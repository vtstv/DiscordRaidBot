version: '3.9'

# Development overrides
# This file is automatically loaded when running docker-compose up
# Use this for local development conveniences

services:
  bot:
    volumes:
      - ./src:/app/src:ro
      - ./prisma:/app/prisma:ro
      - ./prisma.config.ts:/app/prisma.config.ts:ro
      # Exclude node_modules to use version from Docker image
      - /app/node_modules
    environment:
      NODE_ENV: development
      LOG_LEVEL: debug

  web:
    volumes:
      - ./src:/app/src
      - ./dist:/app/dist:ro
      - ./prisma:/app/prisma:ro
      - ./prisma.config.ts:/app/prisma.config.ts:ro
      # Exclude node_modules to use version from Docker image
      - /app/node_modules
    environment:
      NODE_ENV: development
      LOG_LEVEL: debug
